(()=>{var e="app_cache";self.addEventListener("install",(function(e){console.log("Service worker: Installed"),self.skipWaiting()})),self.addEventListener("activate",(function(n){console.log("Service worker: Activated"),n.waitUntil(caches.keys().then((function(n){return Promise.all(n.map((function(n){if(n!==e)return console.log("Service Worker: Clearing old cache",n),caches.delete(n)})))})))})),self.addEventListener("fetch",(function(n){console.log("Service Worker: Fetching",n.request.url),n.respondWith(caches.match(n.request).then((function(e){return e||fetch(n.request)})).then((function(t){return fetch(n.request).then((function(t){console.log("Service Worker: Adding response to cache",t),caches.open(e).then((function(e){e.put(n.request,t)})).catch((function(e){return console.log("Service Worker: Cashing error",e)}))})).catch((function(e){return console.log("Service Worker: Fetching error",e)})),t})))}))})();